"use strict";(self.webpackChunk_jsdawn_vue3_tinymce=self.webpackChunk_jsdawn_vue3_tinymce||[]).push([[509],{464:(n,a,s)=>{s.r(a),s.d(a,{data:()=>e});const e={key:"v-8daa1a0e",path:"/",title:"使用指南",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"为什么",slug:"为什么",children:[]},{level:2,title:"组件特色",slug:"组件特色",children:[{level:3,title:"开箱即用",slug:"开箱即用",children:[]},{level:3,title:"拓展图片上传",slug:"拓展图片上传",children:[]}]},{level:2,title:"快速上手",slug:"快速上手",children:[{level:3,title:"获取组件",slug:"获取组件",children:[]},{level:3,title:"在 vue 中使用",slug:"在-vue-中使用",children:[]}]},{level:2,title:"组件属性",slug:"组件属性",children:[]},{level:2,title:"使用示例",slug:"使用示例",children:[]}],filePathRelative:"README.md"}},285:(n,a,s)=>{s.r(a),s.d(a,{default:()=>z});var e=s(252),t=s(457),l=s(855);const p=(0,e._)("h1",{id:"使用指南",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#使用指南","aria-hidden":"true"},"#"),(0,e.Uk)(" 使用指南")],-1),c=(0,e._)("p",null,[(0,e.Uk)("vue3-tinymce 是基于 "),(0,e._)("code",null,"vue@3.x"),(0,e.Uk)(" + "),(0,e._)("code",null,"tinymce@5.8.x"),(0,e.Uk)(" 封装的富文本编辑器。")],-1),o={href:"https://gitee.com/jsdawn/vue3-tinymce.git",target:"_blank",rel:"noopener noreferrer"},u=(0,e._)("img",{src:t,alt:"vue3-tinymce"},null,-1),r={href:"https://www.tiny.cloud/docs/",target:"_blank",rel:"noopener noreferrer"},i=(0,e._)("img",{src:l,alt:"tinymce"},null,-1),d=(0,e._)("h2",{id:"为什么",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#为什么","aria-hidden":"true"},"#"),(0,e.Uk)(" 为什么")],-1),k=(0,e._)("p",null,"在开发管理台项目的时候有富文本编辑的功能需求，封装为组件方便使用。",-1),m=(0,e._)("p",null,"个人开发一套完美的富文本编辑器难度大且耗时，在挑选插件中发现 tinymce editor 背景和功能都非常强大，并且文档清晰。基于 tinymce 封装组件是一个非常好的选择。",-1),_=(0,e.Uk)("该组件清晰易懂，可自行修改为 vue2 版本使用。期待你的 Star "),h=(0,e.Uk)(" ，发现问题可以提到 issues 👏"),b=(0,e.uE)('<h2 id="组件特色" tabindex="-1"><a class="header-anchor" href="#组件特色" aria-hidden="true">#</a> 组件特色</h2><h3 id="开箱即用" tabindex="-1"><a class="header-anchor" href="#开箱即用" aria-hidden="true">#</a> 开箱即用</h3><p>组件内置按需加载 <code>tinymce@5.8.2</code> 版本 cdn 资源，无需另外引入。使用 <code>v-if</code> 在必要时渲染组件。</p><p>属性 <code>script-src</code> 可自定义 tinymce 静态资源。支持绝对路径和网络地址。</p><h3 id="拓展图片上传" tabindex="-1"><a class="header-anchor" href="#拓展图片上传" aria-hidden="true">#</a> 拓展图片上传</h3><p>本组件拓展了 <code>插入图片</code> 的图片上传部分，重写 <code>setting.images_upload_handler</code>，上传成功回填编辑器插入图片数据，关联 toolbar 和 plugins 中的 <code>image</code>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n  <span class="token comment">// 开启组件拓展的 上传图片功能，工具栏 图片按钮 弹框中出现 `upload` 选项</span>\n  custom_images_upload<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  <span class="token comment">// 复用 图片上传 api 地址</span>\n  images_upload_url<span class="token operator">:</span> <span class="token string">&#39;your_upload_api_url...&#39;</span><span class="token punctuation">,</span>\n  <span class="token comment">// 上传成功回调函数，return 图片地址。默认 response.location</span>\n  <span class="token function-variable function">custom_images_upload_callback</span><span class="token operator">:</span> <span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span>url<span class="token punctuation">,</span>\n  <span class="token comment">// 上传 api 额外的参数。图片默认 file</span>\n  custom_images_upload_param<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#39;xxxx01&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手" aria-hidden="true">#</a> 快速上手</h2><h3 id="获取组件" tabindex="-1"><a class="header-anchor" href="#获取组件" aria-hidden="true">#</a> 获取组件</h3>',9),g=(0,e.Uk)("前往 "),v={href:"https://gitee.com/jsdawn/vue3-tinymce.git",target:"_blank",rel:"noopener noreferrer"},y=(0,e.Uk)("Vue3Tinymce 仓库"),f=(0,e.Uk)(" 获取 "),w=(0,e._)("code",null,"packages/Vue3Tinymce",-1),U=(0,e.Uk)(" 组件文件，Copy 到自己项目中使用。setting 选项配置参照 "),x={href:"https://www.tiny.cloud/docs/",target:"_blank",rel:"noopener noreferrer"},j=(0,e.Uk)("tinymce 官方文档"),W=(0,e.uE)('<p>这里也提供 NPM 引入：<code>npm install @jsdawn/vue3-tinymce</code>，然后在 vue 中引入</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue3Tinymce <span class="token keyword">from</span> <span class="token string">&#39;@jsdawn/vue3-tinymce&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="在-vue-中使用" tabindex="-1"><a class="header-anchor" href="#在-vue-中使用" aria-hidden="true">#</a> 在 vue 中使用</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>vue3-tinymce</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>state.content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:setting</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>state.setting<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>\n<span class="token comment">// 引入组件</span>\n<span class="token keyword">import</span> Vue3Tinymce <span class="token keyword">from</span> <span class="token string">&#39;your-path/Vue3Tinymce&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  content<span class="token operator">:</span> <span class="token string">&#39;hello vue3-tinymce!&#39;</span><span class="token punctuation">,</span>\n  <span class="token comment">// editor 配置项</span>\n  setting<span class="token operator">:</span> <span class="token punctuation">{</span>\n    height<span class="token operator">:</span> <span class="token number">400</span> <span class="token comment">// editor 高度</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="组件属性" tabindex="-1"><a class="header-anchor" href="#组件属性" aria-hidden="true">#</a> 组件属性</h2>',5),q=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"名称"),(0,e._)("th",null,"类型"),(0,e._)("th",null,"描述")])],-1),T=(0,e._)("tr",null,[(0,e._)("td",null,[(0,e._)("code",null,"modelValue")]),(0,e._)("td",null,[(0,e._)("code",null,"String")]),(0,e._)("td",null,[(0,e.Uk)("绑定值/内容，建议以 "),(0,e._)("code",null,"v-model"),(0,e.Uk)(" 的形式使用")])],-1),V=(0,e._)("td",null,[(0,e._)("code",null,"setting")],-1),C=(0,e._)("td",null,[(0,e._)("code",null,"Object")],-1),E=(0,e.Uk)("设置项，延用官方 "),F={href:"https://www.tiny.cloud/docs/configure/integration-and-setup/",target:"_blank",rel:"noopener noreferrer"},M=(0,e.Uk)("tinymce 设置"),R=(0,e._)("tr",null,[(0,e._)("td",null,[(0,e._)("code",null,"setup")]),(0,e._)("td",null,[(0,e._)("code",null,"Function")]),(0,e._)("td",null,"编辑器设置时的回调，回调参数 editor 实例，在此将编辑器事件添加到 TinyMCE 中")],-1),D=(0,e._)("tr",null,[(0,e._)("td",null,[(0,e._)("code",null,"script-src")]),(0,e._)("td",null,[(0,e._)("code",null,"Function")]),(0,e._)("td",null,[(0,e.Uk)("自定义 "),(0,e._)("code",null,"tinymce"),(0,e.Uk)(" 静态资源，支持绝对路径和网络地址。内置按需加载 "),(0,e._)("code",null,"tinymce@5.8.2")])],-1),L=(0,e._)("tr",null,[(0,e._)("td",null,[(0,e._)("code",null,"@change")]),(0,e._)("td",null,[(0,e._)("code",null,"Function")]),(0,e._)("td",null,[(0,e.Uk)("编辑器监听到 "),(0,e._)("code",null,"change input undo redo"),(0,e.Uk)(" 时触发，回调参数为编辑器 content")])],-1),N=(0,e._)("tr",null,[(0,e._)("td",null,[(0,e._)("code",null,"@init")]),(0,e._)("td",null,[(0,e._)("code",null,"Function")]),(0,e._)("td",null,[(0,e.Uk)("编辑器初始化完成后触发，回调参数 "),(0,e._)("code",null,"editor"),(0,e.Uk)(" 实例")])],-1),O=(0,e._)("h2",{id:"使用示例",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#使用示例","aria-hidden":"true"},"#"),(0,e.Uk)(" 使用示例")],-1),P=(0,e.Uk)("点击前往 "),S=(0,e.Uk)("使用示例"),z={render:function(n,a){const s=(0,e.up)("OutboundLink"),t=(0,e.up)("Badge"),l=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,c,(0,e._)("p",null,[(0,e._)("a",o,[u,(0,e.Wm)(s)]),(0,e._)("a",r,[i,(0,e.Wm)(s)])]),d,k,m,(0,e._)("p",null,[_,(0,e.Wm)(t,{type:"tip",text:"+1",vertical:"top"}),h]),b,(0,e._)("p",null,[g,(0,e._)("a",v,[y,(0,e.Wm)(s)]),f,w,U,(0,e._)("a",x,[j,(0,e.Wm)(s)])]),W,(0,e._)("table",null,[q,(0,e._)("tbody",null,[T,(0,e._)("tr",null,[V,C,(0,e._)("td",null,[E,(0,e._)("a",F,[M,(0,e.Wm)(s)])])]),R,D,L,N])]),O,(0,e._)("p",null,[P,(0,e.Wm)(l,{to:"/example.html"},{default:(0,e.w5)((()=>[S])),_:1})])],64)}}},855:(n,a,s)=>{n.exports=s.p+"assets/img/svg_tinymce.1bce5758.svg"},457:(n,a,s)=>{n.exports=s.p+"assets/img/svg_vue3_tinymce.047a182f.svg"}}]);